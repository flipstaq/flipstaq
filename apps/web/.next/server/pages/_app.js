(()=>{var e={};e.id=636,e.ids=[81,636],e.modules={101:(e,t,r)=>{"use strict";r.a(e,async(e,n)=>{try{r.d(t,{BP:()=>l,Um:()=>i,dn:()=>u});var s=r(802),a=r(5979),o=e([s,a]);function i(){return"light"}function u(){return"en"}function l(e){"undefined"!=typeof document&&(document.documentElement.dir="ar"===e?"rtl":"ltr",document.documentElement.lang=e)}[s,a]=o.then?(await o)():o,n()}catch(e){n(e)}})},802:e=>{"use strict";e.exports=import("clsx")},979:()=>{},2015:e=>{"use strict";e.exports=require("react")},2081:(e,t,r)=>{"use strict";r.a(e,async(e,n)=>{try{r.r(t),r.d(t,{default:()=>l});var s=r(8732);r(979);var a=r(5310),o=r(4029),i=r(2325),u=e([a,o]);function l({Component:e,pageProps:t}){return(0,s.jsx)(a.N,{children:(0,s.jsx)(o.I,{children:(0,s.jsx)(i.O,{children:(0,s.jsx)(e,{...t})})})})}[a,o]=u.then?(await u)():u,n()}catch(e){n(e)}})},2325:(e,t,r)=>{"use strict";r.d(t,{O:()=>c,A:()=>d});var n=r(8732),s=r(2015);class a{async request(e,t={}){let r=`http://localhost:3100/api/v1${e}`,n={mode:"cors",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json",...t.headers},...t};try{console.log("Auth API request to:",r);let e=await fetch(r,n);if(!e.ok){let t;try{t=await e.json()}catch{t={message:`HTTP ${e.status} ${e.statusText}`}}throw 401===e.status&&(t.message?.includes("deleted")||t.message?.includes("logged out")),Error(t.message||`Request failed with status ${e.status}`)}let t=e.headers.get("content-type");if(204===e.status||!t?.includes("application/json"))return console.log("Auth API response: No content (204)"),null;let s=await e.json();return console.log("Auth API response:",s),s}catch(e){throw console.error("Auth API error:",e),e}}async login(e){return await this.request("/auth/login",{method:"POST",body:JSON.stringify(e)})}async signup(e){return await this.request("/auth/signup",{method:"POST",body:JSON.stringify(e)})}async getCurrentUser(){throw Error("No authentication token found")}async logout(){}getStoredUser(){return null}getStoredToken(){return null}isAuthenticated(){return!!this.getStoredToken()}}let o=new a;class i{async signup(e){let t=await o.signup({firstName:e.firstName,lastName:e.lastName,email:e.email,username:e.username,password:e.password,dateOfBirth:e.dateOfBirth,country:e.country});return{...t,user:{...t.user,createdAt:new Date(t.user.createdAt)}}}async login(e){let t=await o.login({identifier:e.identifier,password:e.password});return{...t,user:{...t.user,createdAt:new Date(t.user.createdAt)}}}async logout(){return o.logout()}async validateToken(){let e=this.getStoredUser();if(!this.getAccessToken()||!e)throw Error("No authentication token or user found");return{...e,createdAt:new Date(e.createdAt)}}getStoredUser(){let e=o.getStoredUser();return e?{...e,createdAt:new Date(e.createdAt)}:null}isAuthenticated(){return o.isAuthenticated()}getAccessToken(){return o.getStoredToken()}}let u=new i,l=(0,s.createContext)(void 0);function c({children:e}){let[t,r]=(0,s.useState)(null),[a,o]=(0,s.useState)(!0),[i,c]=(0,s.useState)(null),d=!!t,h=t?.role==="OWNER"||t?.role==="HIGHER_STAFF"||t?.role==="STAFF",g=async e=>{o(!0),c(null);try{let t=await u.signup(e);r(t.user)}catch(e){throw c(e instanceof Error?e.message:"Signup failed"),e}finally{o(!1)}},f=async e=>{o(!0),c(null);try{let t=await u.login(e);r(t.user)}catch(e){throw c(e instanceof Error?e.message:"Login failed"),e}finally{o(!1)}},m=async()=>{o(!0);try{await u.logout(),r(null)}catch(e){console.warn("Logout error:",e)}finally{o(!1)}};return(0,n.jsx)(l.Provider,{value:{user:t,loading:a,isAuthenticated:d,hasAdminAccess:h,login:f,signup:g,logout:m,error:i,clearError:()=>{c(null)}},children:e})}function d(){let e=(0,s.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},4029:(e,t,r)=>{"use strict";r.a(e,async(e,n)=>{try{r.d(t,{I:()=>u,o:()=>l});var s=r(8732),a=r(2015),o=r(101),i=e([o]);o=(i.then?(await i)():i)[0];let c=(0,a.createContext)(void 0);function u({children:e}){let[t,r]=(0,a.useState)("en"),[n,o]=(0,a.useState)({}),[i,u]=(0,a.useState)(!1);return i?(0,s.jsx)(c.Provider,{value:{language:t,setLanguage:e=>{r(e)},translations:n,t:(e,t,r)=>{let s=r||"common",a=e;if(e.includes(":")){let[t,r]=e.split(":");s=t.replace("/","-"),a=r}let o=a.split("."),i=n[s];for(let t of o)if(!i||"object"!=typeof i)return e;else i=i[t];let u="string"==typeof i?i:e;return t&&"string"==typeof u&&Object.keys(t).forEach(e=>{let r=t[e]??"";u=u.replace(RegExp(`{{${e}}}`,"g"),r)}),u},isRTL:"ar"===t},children:e}):(0,s.jsx)(c.Provider,{value:{language:"en",setLanguage:()=>{},translations:{},t:e=>e,isRTL:!1},children:(0,s.jsx)("div",{children:e})})}function l(){let e=(0,a.useContext)(c);if(void 0===e)throw Error("useLanguage must be used within a LanguageProvider");return e}n()}catch(e){n(e)}})},5310:(e,t,r)=>{"use strict";r.a(e,async(e,n)=>{try{r.d(t,{D:()=>l,N:()=>u});var s=r(8732),a=r(2015),o=r(101),i=e([o]);o=(i.then?(await i)():i)[0];let c=(0,a.createContext)(void 0);function u({children:e}){let[t,r]=(0,a.useState)("light"),[n,o]=(0,a.useState)(!1),i=e=>{r(e)};return n?(0,s.jsx)(c.Provider,{value:{theme:t,setTheme:i,toggleTheme:()=>{i("light"===t?"dark":"light")}},children:e}):(0,s.jsx)(c.Provider,{value:{theme:"light",setTheme:()=>{},toggleTheme:()=>{}},children:(0,s.jsx)("div",{className:"min-h-screen bg-white",children:e})})}function l(){let e=(0,a.useContext)(c);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}n()}catch(e){n(e)}})},5979:e=>{"use strict";e.exports=import("tailwind-merge")},8732:e=>{"use strict";e.exports=require("react/jsx-runtime")}};var t=require("../webpack-runtime.js");t.C(e);var r=t(t.s=2081);module.exports=r})();